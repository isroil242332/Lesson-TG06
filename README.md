# Lesson-TG06
Chat-bot
# Lesson-TG06 — финансовый Telegram-бот

Небольшой учебный проект на **aiogram 3**, демонстрирующий, как создать Telegram-бота, который:
- регистрирует пользователей в локальной базе `SQLite`;
- подсказывает актуальный курс валют через публичное API;
- делится советами по экономии;
- собирает пользовательские траты по категориям и сохраняет их.

## Возможности
- **/start** — приветственное сообщение с меню.
- **Регистрация в телеграм боте** — сохранение `telegram_id` и имени в `user.db`.
- **Курс валют** — получает курсы USD→RUB и EUR→RUB с [ExchangeRate-API](https://www.exchangerate-api.com/).
- **Советы по экономии** — случайный совет из набора.
- **Личные финансы** — опрос из трёх категорий расходов с сохранением суммы по каждой.

## Стек и зависимости
- [Python 3.10+](https://www.python.org/)
- [aiogram 3](https://docs.aiogram.dev/)
- [requests](https://requests.readthedocs.io/)
- [aiohttp](https://docs.aiohttp.org/)
- [sqlite3](https://docs.python.org/3/library/sqlite3.html) — встроен в стандартную библиотеку.

> В проекте нет `requirements.txt`, поэтому зависимости устанавливаются вручную:
```bash
pip install aiogram requests aiohttp
```
## Быстрый старт
1. Склонируйте репозиторий и перейдите в папку проекта.
2. Создайте виртуальное окружение (по желанию) и активируйте его.
3. Установите зависимости, указанные выше.
4. Укажите токен бота:
   - отредактируйте `config.py`, заменив значение `TOKEN`;
   - либо переопределите переменную окружения `TOKEN` и читайте её в коде (при желании можно доработать проект).
5. Запустите бота:
```bash
python bot.py
```
6. Откройте Telegram, найдите своего бота и отправьте `/start`.

## База данных
При первом запуске файл `user.db` создаётся автоматически. Таблица `users` содержит:
- `telegram_id`, `name`;
- `category1..3` — названия трёх пользовательских категорий;
- `expenses1..3` — соответствующие суммы расходов.

## Структура репозитория
- `bot.py` — основной сценарий aiogram, описание хэндлеров и FSM.
- `config.py` — хранит `TOKEN` (в продакшене лучше использовать переменные окружения).
- `user.db` — локальная база SQLite.
- `LICENSE` — MIT.
- `README.md` — текущий файл.

## Отладка и полезные советы
- Перед запуском убедитесь, что токен Telegram-бота действителен и бот включён через [@BotFather](https://t.me/BotFather).
- Если запрос к ExchangeRate-API не проходит, проверьте подключение к интернету или лимиты бесплатного плана.
- Используйте `logging` (уже настроен на INFO) для отслеживания ошибок в консоли.

## Лицензия
Проект распространяется по лицензии MIT. Текст находится в файле `LICENSE`.
